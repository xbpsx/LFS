Прочитайте документацию программного пакета, чтобы определить, нужно ли задавать определенные переменные окружения (в `.bashrc` или `.cshrc`) и нужно ли настраивать файлы `.Xdefaults` и `.Xresources`.

Может существовать файл настроек по умолчанию для приложения, обычно называемый `Xfoo.ad` в оригинальном дистрибутиве `Xfoo`. Если это так, отредактируйте файл `Xfoo.ad`, чтобы настроить его для вашей машины, затем переименуйте его (командой `mv`) в `Xfoo` и установите в каталог `/usr/lib/X11/app-defaults` от имени root. Невыполнение этого может привести к странному поведению программы или даже к отказу запуска.

Большинство программных пакетов поставляются с одной или несколькими предварительно отформатированными man-страницами. От имени root скопируйте файл `Xfoo.man` в соответствующий каталог `/usr/man`, `/usr/local/man` или `/usr/X11R6/man` (подкаталоги man1 - man9) и переименуйте его соответствующим образом. Например, если `Xfoo.man` окажется в `/usr/man/man4`, его следует переименовать в `Xfoo.4` (`mv Xfoo.man Xfoo.4`). По соглашению, пользовательские команды помещаются в man1, игры — в man6, а административные пакеты — в man8 (подробности см. в документации по man). Конечно, вы можете отклониться от этого в своей системе, если хотите.

Некоторые пакеты не устанавливают бинарные файлы в соответствующие системные каталоги, то есть в их `Makefile` отсутствует опция `install`. В таком случае вы можете установить бинарные файлы вручную, скопировав их в соответствующий системный каталог (`/usr/bin`, `/usr/local/bin` или `/usr/X11R6/bin`), конечно, от имени root. Обратите внимание, что `/usr/local/bin` является предпочтительным каталогом для бинарных файлов, которые не входят в базовую установку дистрибутива Linux.

В большинстве случаев некоторые или все вышеуказанные процедуры должны автоматически выполняться с помощью `make install` и, возможно, `make install.man` или `make install_man`. Если это так, то файлы документации `README` или `INSTALL` будут это указывать.

---
[[Навигация по книге «Building and Installing Software Packages for Linux»]]

### Зачем вам это нужно? Развёрнутые пояснения

Эта глава завершает цикл установки программного обеспечения, описывая **финальные штрихи, которые превращают просто собранную программу в полноценно интегрированный компонент системы**. Эти шаги часто упускают из виду, но они критически важны для удобства и корректной работы.

**1. Настройка окружения пользователя.**

- **Переменные окружения:** Некоторые программы требуют установки переменных окружения для своей работы. Например, `JAVA_HOME` для Java или `PYTHONPATH` для Python. Эти переменные обычно устанавливаются в файлах инициализации оболочки (`.bashrc`, `.bash_profile`, `.zshrc`).

- **Для LFS:** После сборки LFS вы будете настраивать переменные окружения для всей системы (в `/etc/profile`) и для отдельных пользователей. Понимание того, как это делается, поможет вам правильно интегрировать дополнительное программное обеспечение в будущем.

**2. Интеграция с X Window System (графический интерфейс).**

- **Файлы app-defaults:** Это устаревший, но исторически важный механизм настройки внешнего вида и поведения X11-приложений. Сегодня большинство программ используют более современные методы (GTK+ темы, Qt стили), но понимание этого механизма полезно для работы со старым ПО.

- **Для LFS:** При сборке LFS вы можете не устанавливать X11, но если вы соберете графическую среду позже, вам нужно будет понимать, как программы интегрируются с ней.

**3. Установка документации (man-страницы).**

- **Иерархия man-страниц:** Структура man1-man9 — это стандарт для организации документации в UNIX-системах:

    - **man1:** Пользовательские команды
    
    - **man2:** Системные вызовы
    
    - **man3:** Библиотечные функции
    
    - **man4:** Специальные файлы (устройства)
    
    - **man5:** Форматы файлов и конфигурации
    
    - **man6:** Игры
    
    - **man7:** Другие соглашения и обзоры
    
    - **man8:** Административные команды

- **Для LFS:** При сборке LFS вы будете устанавливать man-страницы для каждого пакета. Важно понимать, куда они помещаются и как система их находит. Команда `man` ищет страницы в путях, указанных в переменной `MANPATH`.

**4. Ручная установка бинарников.**

- **Когда это нужно:** Если `Makefile` не содержит цели `install`, или если вы хотите установить программу в нестандартное место.

- **Ручное копирование:** Вы копируете исполняемые файлы, библиотеки, заголовочные файлы и документацию в соответствующие каталоги. Это требует понимания структуры файловой системы Linux:

    - `/usr/bin` — основные пользовательские команды
    
    - `/usr/sbin` — системные команды
    
    - `/usr/lib` — библиотеки
    
    - `/usr/include` — заголовочные файлы
    
    - `/usr/share` — архитектурно-независимые данные

- **Для LFS:** В LFS большинство пакетов устанавливаются через `make install`, но понимание того, что происходит при этом (какие файлы куда копируются), необходимо для отладки и будущей настройки системы.

**5. Автоматизация через make install.**

- Хорошие пакеты предоставляют цели `install` и `install.man` в `Makefile`. Эти цели автоматически копируют файлы в правильные места.

- **Важно:** Всегда читайте `README` и `INSTALL`, чтобы узнать, какие цели доступны и нужны ли особые шаги.

**Практическое применение для LFS и после:**

1. **После сборки LFS:** Когда вы начнете добавлять дополнительные программы в свою новую систему, вы будете выполнять именно эти шаги: сборка, установка, настройка переменных окружения, установка документации.

2. **Создание своих пакетов:** Если вы захотите создать собственные пакеты для своей системы LFS, вам нужно будет понимать, как правильно устанавливать файлы.

3. **Поддержка системы:** Знание того, где находятся конфигурационные файлы, документация и исполняемые файлы, необходимо для администрирования системы.

**Пример полного цикла установки программы:**

1. Распаковка: `tar xzf program.tar.gz`

2. Конфигурация: `./configure --prefix=/usr/local`

3. Сборка: `make`

4. Установка: `sudo make install` (копирует бинарники в `/usr/local/bin`, библиотеки в `/usr/local/lib`, документацию в `/usr/local/share/man`)

5. Настройка: добавление `/usr/local/bin` в `PATH` в `.bashrc`

6. Проверка: `man program` — должна открыться man-страница

**Итог руководства:**

Вы прошли полный путь от неопытного пользователя, боящегося исходных кодов, до уверенного системного администратора, способного собрать, установить и настроить практически любое UNIX-приложение. Вы узнали:

- Как распаковывать архивы

- Как работает система сборки (Makefile, configure)

- В чем разница между исходными кодами и бинарными пакетами

- Как решать типичные проблемы при сборке

- Как интегрировать программу в систему


**Теперь вы готовы к LFS.**

В LFS вы примените эти знания в грандиозном масштабе: вместо установки одной программы вы соберете целую операционную систему из сотен пакетов. Каждый пакет в LFS будет проходить через те же этапы (распаковка, конфигурация, сборка, установка), но в строгом порядке и с особыми настройками, необходимыми для создания согласованной системы.

Помните: сборка LFS — это марафон, а не спринт. Используйте навыки, полученные из этого руководства: внимательно читайте документацию, анализируйте ошибки, будьте терпеливы. Удачи в создании вашей собственной системы Linux!