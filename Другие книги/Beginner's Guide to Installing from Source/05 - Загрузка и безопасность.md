**Обычный способ загрузить архивный файл — использовать веб-браузер и нажать кнопку «загрузить»,** щёлкнуть ссылку или щёлкнуть правой кнопкой мыши по ссылке и выбрать «сохранить как». Это загружает файл с использованием протокола «`http`». Некоторые сайты вместо этого делают файлы доступными через более старый протокол «`ftp`». Многие веб-браузеры также поддерживают это, т.е. щелчок по ссылке также может работать здесь. Кроме того, существуют клиентские приложения `ftp`.

Командное приложение «`wget`» или «`curl`» также может использоваться в Unix-подобных операционных системах для получения файла через `http` или `ftp`, когда известен правильный URL.

Сайты, которые публикуют часто загружаемое программное обеспечение, часто имеют настроенные «зеркальные» сайты, т.е. полезные люди хранят копии файлов в различных местах по всему миру. Оригинальный сайт обычно имеет список доступных зеркал, и вы должны выбрать то, которое находится ближе к вам. Это помогает снизить стоимость сетевой пропускной способности для исходного издателя, а также обычно позволяет загружать быстрее.

Как сетевые протоколы «`http`», так и «`ftp`» могут быть перехвачены преступниками или другими нежелательными сторонами, которые затем могут изменить данные во время загрузки. Данные также могут быть случайно повреждены в пути (хотя это не часто). А при использовании зеркального сайта возможно, что кто-то изменил файлы там (т.е. файлы на зеркале не совпадают с файлами исходного издателя). Поэтому рекомендуется проверять, что вы загрузили именно то, что задумал исходный издатель.

Многие сайты предоставляют файл `md5sum` для каждого архивного файла, который содержит контрольную сумму содержимого файла; иногда один файл `md5sums` содержит контрольные суммы для нескольких других файлов. Вы всегда должны получать файл `md5sums` с оригинального сайта, никогда с зеркала. И вы должны загружать его через безопасный протокол `https`, если это возможно. Командный инструмент Unix `md5sum` затем может быть использован для вычисления контрольной суммы большого архивного файла и сравнения её с ожидаемыми значениями, чтобы убедиться, что содержимое соответствует ожидаемому.

Чтобы вычислить сумму одного файла:

```bash
md5sum file-to-check
```

и «вручную» проверить вывод этого приложения с ожидаемым значением. Если значение находится на веб-странице, вы можете открыть диалог «найти» на этой странице и скопировать-вставить значение, выведенное программой `md5sum`. «Поиск» совпадёт, только если значения одинаковы.

Если поставщик программного обеспечения предоставляет файл `md5sums`, содержащий список пар (имя файла, контрольная сумма), то вы можете запустить:

```bash
md5sum -c md5sums-file
```

что проверит в вашей локальной системе каждый файл, указанный в `md5sums`-файле, вычислит его контрольную сумму и сообщит об ошибке, если она не соответствует ожидаемому значению.

Некоторые поставщики программного обеспечения подписывают архивные файлы вместо (или вместе с) предоставления контрольной суммы `md5`. В этом случае вам следует:

1. Загрузить открытый ключ поставщика с его веб-сайта (используя `https`, где возможно)

2. Загрузить «файл подписи» для архивного файла; это будет маленький файл с тем же базовым именем, что и загруженный файл, с суффиксом «.`sig`» или «.`asc`»

3. Выполнить следующие шаги:

```bash
# нужно только один раз для каждого ключа, т.е. каждого "издателя"
gpg --import {public-key}

gpg --verify {signature-file-name}
```

Шаг `verify` расшифровывает файл подписи, раскрывая контрольную сумму; затем он запускает алгоритм контрольной суммы над реальным файлом и проверяет, что они одинаковы. Очевидно, приложение «`gpg`» должно быть установлено локально.

---
[[Навигация по книге Beginner's Guide to Installing from Source]]


### Зачем вам это нужно?

**Критически важный раздел о безопасности:**

- В предыдущем руководстве (1999 г.) упоминалась проверка `md5`, но здесь акцент на **`GPG`-подписях** и **`HTTPS`**.

- **Для LFS:** При загрузке исходников для LFS вы должны всегда проверять контрольные суммы и подписи. Книга LFS предоставляет ожидаемые контрольные суммы для всех пакетов.

- **Практика:** Научитесь использовать `gpg` и `md5sum/sha256sum`. Это защитит вас от модифицированного вредоносного кода.